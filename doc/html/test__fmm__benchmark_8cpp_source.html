<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>n-Dimensional Fast Marching: /home/acerillo/fastmarching/examples/test_fmm_benchmark.cpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">n-Dimensional Fast Marching
   &#160;<span id="projectnumber">0.6</span>
   </div>
   
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('test__fmm__benchmark_8cpp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">/home/acerillo/fastmarching/examples/test_fmm_benchmark.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* Configure a FMM Benchmark from code. Compare this code with test_fmm.cpp */</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;array&gt;</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="preprocessor">#include &quot;../fmm/fmdata/fmcell.h&quot;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &quot;../ndgridmap/ndgridmap.hpp&quot;</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;../fmm/fmm.hpp&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;../fmm/sfmm.hpp&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;../fmm/fmmstar.hpp&quot;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;../fmm/sfmmstar.hpp&quot;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;../fmm/fmdata/fmfibheap.hpp&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;../fmm/fmdata/fmpriorityqueue.hpp&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;../fmm/fim.hpp&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;../fmm/gmm.hpp&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;../fmm/ufmm.hpp&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;../fmm/fsm.hpp&quot;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;../fmm/lsm.hpp&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;../fmm/ddqm.hpp&quot;</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;../benchmark/benchmark.hpp&quot;</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="keyword">using namespace </span>std;
<a name="l00025"></a>00025 <span class="keyword">using namespace </span>std::chrono;
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keywordtype">int</span> main()
<a name="l00028"></a>00028 {
<a name="l00029"></a>00029     <span class="comment">// A bit of shorthand.</span>
<a name="l00030"></a>00030     <span class="keyword">typedef</span> <a class="code" href="classnDGridMap.html" title="Templated class which represents a n-dimensional grid map. Its cells are assumed to be cubic...">nDGridMap&lt;FMCell, 2&gt;</a> FMGrid2D;
<a name="l00031"></a>00031     <span class="keyword">typedef</span> array&lt;unsigned int, 2&gt; Coord2D;
<a name="l00032"></a>00032 
<a name="l00033"></a>00033     <span class="comment">// Grid, start and goal definition. The grid can be initialized form an image as well.</span>
<a name="l00034"></a>00034     Coord2D dimsize {300,300};
<a name="l00035"></a>00035     FMGrid2D grid (dimsize);
<a name="l00036"></a>00036     Coord2D init_point = {150, 150};
<a name="l00037"></a>00037     Coord2D goal_point = {250, 250};
<a name="l00038"></a>00038 
<a name="l00039"></a>00039     <span class="comment">// Configuring benchmark metadata</span>
<a name="l00040"></a>00040     <a class="code" href="classBenchmark.html" title="This class provides the utilities to benchmark Fast Marching Solvers (configuration, running and logging). It works for FMM (any heap and SFMM), FIM and UFMM. It has not been tested with FM2 solvers.">Benchmark&lt;FMGrid2D&gt;</a> benchmark;
<a name="l00041"></a>00041     benchmark.<a class="code" href="classBenchmark.html#a7458d937b2aef80af1a191ca40252b4a" title="Sets the flag to save the log to a file (true) or output in terminal (false).">setSaveLog</a>(<span class="keyword">false</span>); <span class="comment">// Shows output in terminal.</span>
<a name="l00042"></a>00042     benchmark.<a class="code" href="classBenchmark.html#a102650550987c23aed530a1134f66bd1" title="Sets the name of the benchmark.">setName</a>(<span class="stringliteral">&quot;Testing_Benchmark&quot;</span>);
<a name="l00043"></a>00043     benchmark.<a class="code" href="classBenchmark.html#a9f28f46148d04526f8890c1e09fa3d81" title="Set number of runs for each solver.">setNRuns</a>(3);
<a name="l00044"></a>00044     benchmark.<a class="code" href="classBenchmark.html#a5db3a4730c85e38aec44c5e20eec545a" title="Sets the environment (grid map) the benchmark will be run on.">setEnvironment</a>(&amp;grid);
<a name="l00045"></a>00045 
<a name="l00046"></a>00046     <span class="comment">// Setting initial point.</span>
<a name="l00047"></a>00047     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> startIdx;
<a name="l00048"></a>00048     std::vector&lt;unsigned int&gt; startIndices;
<a name="l00049"></a>00049     grid.coord2idx(init_point, startIdx);
<a name="l00050"></a>00050     startIndices.push_back(startIdx);
<a name="l00051"></a>00051 
<a name="l00052"></a>00052     <span class="comment">// Setting goal point (can be omitted)</span>
<a name="l00053"></a>00053     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> goalIdx;
<a name="l00054"></a>00054     grid.coord2idx(goal_point, goalIdx);
<a name="l00055"></a>00055     benchmark.<a class="code" href="classBenchmark.html#a3ee735292a9a3737c5c7bf554ef5684b" title="Sets the initial and goal points (indices) for the solvers.">setInitialAndGoalPoints</a>(startIndices, goalIdx);
<a name="l00056"></a>00056 
<a name="l00057"></a>00057     <span class="comment">// Call this if goal point is omitted.</span>
<a name="l00058"></a>00058     <span class="comment">//benchmark.setInitialPoints(startIndices);</span>
<a name="l00059"></a>00059 
<a name="l00060"></a>00060     <span class="comment">// Adding solvers.</span>
<a name="l00061"></a>00061     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classFMM.html" title="Implements the Fast Marching Method (FMM).">FMM&lt;FMGrid2D&gt;</a>);
<a name="l00062"></a>00062     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classFMMStar.html" title="Encapsulates the calls to FMM with heuristics enabled.">FMMStar&lt;FMGrid2D&gt;</a>);
<a name="l00063"></a>00063     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classFMMStar.html" title="Encapsulates the calls to FMM with heuristics enabled.">FMMStar&lt;FMGrid2D&gt;</a>(<span class="stringliteral">&quot;FMM*_Dist&quot;</span>, DISTANCE));
<a name="l00064"></a>00064     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classFMM.html" title="Implements the Fast Marching Method (FMM).">FMM</a>&lt;FMGrid2D, <a class="code" href="classFMFibHeap.html">FMFibHeap&lt;FMCell&gt;</a> &gt;(<span class="stringliteral">&quot;FMFib&quot;</span>));
<a name="l00065"></a>00065     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classFMMStar.html" title="Encapsulates the calls to FMM with heuristics enabled.">FMMStar</a>&lt;FMGrid2D, <a class="code" href="classFMFibHeap.html">FMFibHeap&lt;FMCell&gt;</a> &gt;(<span class="stringliteral">&quot;FMM*Fib&quot;</span>));
<a name="l00066"></a>00066     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classFMMStar.html" title="Encapsulates the calls to FMM with heuristics enabled.">FMMStar</a>&lt;FMGrid2D, <a class="code" href="classFMFibHeap.html">FMFibHeap&lt;FMCell&gt;</a> &gt;(<span class="stringliteral">&quot;FMM*Fib_Dist&quot;</span>, DISTANCE));
<a name="l00067"></a>00067     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classSFMM.html" title="Implements the Simplified Fast Marching Method, encapsulating FMM with a priority queue...">SFMM&lt;FMGrid2D&gt;</a>);
<a name="l00068"></a>00068     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classSFMMStar.html">SFMMStar&lt;FMGrid2D&gt;</a>);
<a name="l00069"></a>00069     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classSFMMStar.html">SFMMStar&lt;FMGrid2D&gt;</a>(<span class="stringliteral">&quot;SFMM*_Dist&quot;</span>, DISTANCE));
<a name="l00070"></a>00070     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classGMM.html" title="Templated class which computes Group Marching Method (GMM).">GMM&lt;FMGrid2D&gt;</a>);
<a name="l00071"></a>00071     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classFIM.html" title="Implements Fast Iterative Method.">FIM&lt;FMGrid2D&gt;</a>);
<a name="l00072"></a>00072     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classUFMM.html" title="Fast Marching Method using a untidy priority queue (UFMM).">UFMM&lt;FMGrid2D&gt;</a>);
<a name="l00073"></a>00073     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classFSM.html" title="Implements Fast Sweeping Method.">FSM&lt;FMGrid2D&gt;</a>);
<a name="l00074"></a>00074     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classLSM.html" title="Implements Lock Sweeping Method.">LSM&lt;FMGrid2D&gt;</a>);
<a name="l00075"></a>00075     benchmark.<a class="code" href="classBenchmark.html#a89d766e24f43666e24dc68fd691a32e3" title="Adds a new solver to be benchmarked.">addSolver</a>(<span class="keyword">new</span> <a class="code" href="classDDQM.html" title="Implements Double Dynamic Queue Method.">DDQM&lt;FMGrid2D&gt;</a>);
<a name="l00076"></a>00076 
<a name="l00077"></a>00077     <span class="comment">// Run benchmark</span>
<a name="l00078"></a>00078     benchmark.<a class="code" href="classBenchmark.html#a1c32fc6aa5dce93f33f5b996824a4455" title="Automatically runs all the solvers.">run</a>();
<a name="l00079"></a>00079 
<a name="l00080"></a>00080     <span class="keywordflow">return</span> 0;
<a name="l00081"></a>00081 }
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>test_fmm_benchmark.cpp</b>      </li>

    <li class="footer">Generated on Thu May 14 2015 18:58:30 for n-Dimensional Fast Marching by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
